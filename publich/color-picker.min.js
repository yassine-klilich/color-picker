class YKColor{constructor(e,t,o,r){this.a=r,this.hsv={h:e,s:t,v:o},this.rgb=this.toRGB(),this.hsl=this.toHSL(),this.hex=this.toHEX()}toRGB(){var e,t,o,r,{h:i,s,v:n}=this.hsv,a=(n/=100)*(1-(s/=100)),h=n*(1-(r=6*(i/=360)-(i=Math.floor(6*i)))*s),l=n*(1-(1-r)*s);switch(i%6){case 0:e=n,t=l,o=a;break;case 1:e=h,t=n,o=a;break;case 2:e=a,t=n,o=l;break;case 3:e=a,t=h,o=n;break;case 4:e=l,t=a,o=n;break;case 5:e=n,t=a,o=h}return{r:255*e,g:255*t,b:255*o}}toHSL(){var{h:e,s:t,v:o}=this.hsv,o=.01*o,t=o-o*(.01*t)/2;let r=NaN;return{h:e,s:r=0==t||1==t?0:(o-t)/Math.min(t,1-t)*100,l:100*t}}toHEX(){var{r:e,g:t,b:o}=this.toRGB();return YKColor.RGBAtoHEX(e,t,o,this.a)}static RGBtoHSV(e,t,o){e/=255,t/=255,o/=255;var r=Math.max(e,t,o),i=Math.min(e,t,o);let s,n,a=r;var h=r-i;if(n=0==r?0:h/r,r==i)s=0;else{switch(r){case e:s=(t-o)/h+(t<o?6:0);break;case t:s=(o-e)/h+2;break;case o:s=(e-t)/h+4}s/=6}return n*=100,a*=100,{h:s*=360,s:n,v:a}}static HSLtoHSV(e,t,o){t=t*(o<50?o:100-o)/100;return{h:e,s:0==t?0:2*t/(o+t)*100,v:o+t}}static HEXtoRGBA(e){let t=0,o=0,r=0,i=0;var s;if(/^#(([a-f0-9]){3,4}|([a-f0-9]){6}|([a-f0-9]){8})$/i.test(e))return e.length<6?(s=e.split(""),t=+("0x"+s[1]+s[1]),o=+("0x"+s[2]+s[2]),r=+("0x"+s[3]+s[3]),i=s[4]?parseFloat((("0x"+s[4]+s[4])/255).toFixed(2)):1):e.length<10&&(s=e.split(/([a-f0-9]{2})/i),t=+("0x"+s[1]),o=+("0x"+s[3]),r=+("0x"+s[5]),i=s[7]?parseFloat((("0x"+s[7])/255).toFixed(2)):1),{r:t,g:o,b:r,a:i}}static RGBAtoHEX(e,t,o,r){return"#"+(e=YKColorPicker.hexPad2(Math.round(e)))+(t=YKColorPicker.hexPad2(Math.round(t)))+(o=YKColorPicker.hexPad2(Math.round(o)))+(r=1==r?"":YKColorPicker.hexPad2(Math.round(255*r)))}}const YKColorParser=Object.freeze({parse:function(t){if(null==t)throw new Error("YKColorParser:: color is undefined");if(!("string"==typeof t||t instanceof String)){var{r:o,g:r,b:i,a:e}=t;if(0<=o&&o<=255&&0<=r&&r<=255&&0<=i&&i<=255&&0<=e&&e<=1)return{h:o,s:r,v:i}=YKColor.RGBtoHSV(o,r,i),{h:o,s:r,v:i,a:e};throw new Error("YKColorParser:: The provided RGB object has invalid values, please make sure red, green, blue are between 0 and 255 and alpha value is between 0 and 1")}{if(t=t.trim(),/^(rgba?)/i.test(t))return this.compileRGB(t);if(/^(#)/i.test(t))return this.compileHEX(t);let e=this.NAMED_COLORS[t.toLowerCase()];if(null!=e)return e=e.split(" "),{h:o,s:r,v:i}=YKColor.RGBtoHSV(e[0],e[1],e[2]),{h:o,s:r,v:i,a:1}}throw new Error("YKColorParser:: Color is not in RGB or HEX format or a named color")},compileRGB:function(e){var t=/rgba?\(\s*(\d+)\s+(\d+)\s+(\d+)\s*(\s+(0?(\.\d+)?|1(\.0*)?)\s*)?\)/i;if(t.test(e)){var t=e.split(t).filter(e=>!isNaN(e)&&""!=e&&null!=e),o=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]),t=parseFloat(t[3]);if(255<o)throw new RangeError(`YKColorParser:: '${e}' --> ${o} has an invalid red color, it must be an interger between 0 and 255`);if(255<r)throw new RangeError(`YKColorParser:: '${e}' --> ${r} has an invalid green color, it must be an interger between 0 and 255`);if(255<i)throw new RangeError(`YKColorParser:: '${e}' --> ${i} has an invalid blue color, it must be an interger between 0 and 255`);var{h:o,s:r,v:i}=YKColor.RGBtoHSV(o,r,i);return{h:o,s:r,v:i,a:isNaN(t)?1:t}}throw new SyntaxError(`YKColorParser:: '${e}' is an invalid RGB format`)},compileHEX:function(e){var t,o,r,i=YKColor.HEXtoRGBA(e);if(i)return{r:i,g:o,b:r,a:t}=i,{h:i,s:o,v:r}=YKColor.RGBtoHSV(i,o,r),{h:i,s:o,v:r,a:t};throw new Error(`YKColorParser:: '${e}' is an invalid HEX format`)},NAMED_COLORS:Object.freeze({aliceblue:"240 248 255",antiquewhite:"250 235 215",aqua:"0 255 255",aquamarine:"127 255 212",azure:"240 255 255",beige:"245 245 220",bisque:"255 228 196",black:"0 0 0",blanchedalmond:"255 235 205",blue:"0 0 255",blueviolet:"138 43 226",brown:"165 42 42",burlywood:"222 184 135",cadetblue:"95 158 160",chartreuse:"127 255 0",chocolate:"210 105 30",coral:"255 127 80",cornflowerblue:"100 149 237",cornsilk:"255 248 220",crimson:"220 20 60",cyan:"0 255 255",darkblue:"0 0 139",darkcyan:"0 139 139",darkgoldenrod:"184 134 11",darkgray:"169 169 169",darkgrey:"169 169 169",darkgreen:"0 100 0",darkkhaki:"189 183 107",darkmagenta:"139 0 139",darkolivegreen:"85 107 47",darkorange:"255 140 0",darkorchid:"153 50 204",darkred:"139 0 0",darksalmon:"233 150 122",darkseagreen:"143 188 143",darkslateblue:"72 61 139",darkslategray:"47 79 79",darkslategrey:"47 79 79",darkturquoise:"0 206 209",darkviolet:"148 0 211",deeppink:"255 20 147",deepskyblue:"0 191 255",dimgray:"105 105 105",dimgrey:"105 105 105",dodgerblue:"30 144 255",firebrick:"178 34 34",floralwhite:"255 250 240",forestgreen:"34 139 34",fuchsia:"255 0 255",gainsboro:"220 220 220",ghostwhite:"248 248 255",gold:"255 215 0",goldenrod:"218 165 32",gray:"128 128 128",grey:"128 128 128",green:"0 128 0",greenyellow:"173 255 47",honeydew:"240 255 240",hotpink:"255 105 180",indianred:"205 92 92",indigo:"75 0 130",ivory:"255 255 240",khaki:"240 230 140",lavender:"230 230 250",lavenderblush:"255 240 245",lawngreen:"124 252 0",lemonchiffon:"255 250 205",lightblue:"173 216 230",lightcoral:"240 128 128",lightcyan:"224 255 255",lightgoldenrodyellow:"250 250 210",lightgray:"211 211 211",lightgrey:"211 211 211",lightgreen:"144 238 144",lightpink:"255 182 193",lightsalmon:"255 160 122",lightseagreen:"32 178 170",lightskyblue:"135 206 250",lightslategray:"119 136 153",lightslategrey:"119 136 153",lightsteelblue:"176 196 222",lightyellow:"255 255 224",lime:"0 255 0",limegreen:"50 205 50",linen:"250 240 230",magenta:"255 0 255",maroon:"128 0 0",mediumaquamarine:"102 205 170",mediumblue:"0 0 205",mediumorchid:"186 85 211",mediumpurple:"147 112 216",mediumseagreen:"60 179 113",mediumslateblue:"123 104 238",mediumspringgreen:"0 250 154",mediumturquoise:"72 209 204",mediumvioletred:"199 21 133",midnightblue:"25 25 112",mintcream:"245 255 250",mistyrose:"255 228 225",moccasin:"255 228 181",navajowhite:"255 222 173",navy:"0 0 128",oldlace:"253 245 230",olive:"128 128 0",olivedrab:"107 142 35",orange:"255 165 0",orangered:"255 69 0",orchid:"218 112 214",palegoldenrod:"238 232 170",palegreen:"152 251 152",paleturquoise:"175 238 238",palevioletred:"216 112 147",papayawhip:"255 239 213",peachpuff:"255 218 185",peru:"205 133 63",pink:"255 192 203",plum:"221 160 221",powderblue:"176 224 230",purple:"128 0 128",red:"255 0 0",rosybrown:"188 143 143",royalblue:"65 105 225",saddlebrown:"139 69 19",salmon:"250 128 114",sandybrown:"244 164 96",seagreen:"46 139 87",seashell:"255 245 238",sienna:"160 82 45",silver:"192 192 192",skyblue:"135 206 235",slateblue:"106 90 205",slategray:"112 128 144",slategrey:"112 128 144",snow:"255 250 250",springgreen:"0 255 127",steelblue:"70 130 180",tan:"210 180 140",teal:"0 128 128",thistle:"216 191 216",tomato:"255 99 71",turquoise:"64 224 208",violet:"238 130 238",wheat:"245 222 179",white:"255 255 255",whitesmoke:"245 245 245",yellow:"255 255 0",yellowgreen:"154 205 50"})});class YKColorPicker{#isOpen=!1;#options=YKColorPicker.DEFAULT_OPTIONS;#color=null;#dom={};#currentRepresentation;#dc;#onClickTargetBind;#onMouseDownCursorBind;#onMouseUpHueSliderBind;#onMouseMoveHueSliderBind;#onMouseDownHueSliderBind;#onMouseDownOpacitySliderBind;#onMouseUpOpacitySliderBind;#onMouseMoveOpacitySliderBind;#onResizeScrollWindowBind;#onClickCloseBind;#onKeyUpCloseBind;#onMouseMoveCursorBind;#onMouseUpCursorBind;#copyTimeout=null;static TOP="t";static BOTTOM="b";static LEFT="l";static RIGHT="r";static RGB="rgb";static HSV="hsv";static HSL="hsl";static HEX="hex";static DEFAULT_OPTIONS=Object.freeze({target:null,container:null,position:YKColorPicker.BOTTOM,positionFlipOrder:"btrl",representation:YKColorPicker.RGB,color:"red",closeOnScroll:!0,closeOnResize:!1,escapeKey:!0,theme:"light",onInit:()=>{},onOpen:()=>{},onClose:()=>{},onInput:()=>{},onChange:()=>{},onCopy:()=>{},onRepresentationChange:()=>{},onContainerChange:()=>{}});constructor(e){this.#options=YKColorPicker.#buildOptions(YKColorPicker.DEFAULT_OPTIONS,e);var{target:e,representation:t}=this.#options;this.#dom.target=e,this.#currentRepresentation=t,e&&(this.#onClickTargetBind=this.#onClickTarget.bind(this),e.addEventListener("click",this.#onClickTargetBind)),this.setColor(this.#options.color),this._prevColor=this.getHEX(),this.#initDOM()}isOpen(){return this.#isOpen}open(){this._prevColor=this.getHEX(),this.#options.container?this.#attachToContainer(!0):this.#attachToBody(),this.#options.onOpen(this)}close(){this.#dc||(this._prevColor!=this.getHEX()&&this.#options.onChange(this),this.#detachOverlay(),this.#options.onClose(this)),this.#dc=!1}getRGB(){return{...this.#color.toRGB(),a:this.#color.a}}getHSV(){var{h:e,s:t,v:o}=this.#color.hsv;return{h:Math.round(e),s:Math.round(t),v:Math.round(o),a:this.#color.a}}getHSL(){var{h:e,s:t,l:o}=this.#color.toHSL();return{h:Math.round(e),s:Math.round(t),l:Math.round(o),a:this.#color.a}}getHEX(){return this.#color.toHEX()}updateOptions(e){var e=YKColorPicker.#buildOptions(this.#options,e),{target:e,representation:t}=(this.#options=e,this.#options);this.#currentRepresentation!=t&&this.#updateRepresentation(t),this.#dom.target!=e&&(null!=this.#dom.target&&this.#dom.target.removeEventListener("click",this.#onClickTargetBind),this.#dom.target=e,null!=this.#dom.target)&&this.#dom.target.addEventListener("click",this.#onClickTargetBind),this.#isOpen&&(this.#options.container?this.#attachToContainer(!0):this.#attachToBody())}getColor(){switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:e,g:t,b:o}=this.#color.rgb;return{r:Math.round(e),g:Math.round(t),b:Math.round(o),a:this.#color.a};case YKColorPicker.HSV:var{h:e,s:t,v:o}=this.#color.hsv;return{h:Math.round(e),s:Math.round(t),l:Math.round(o),a:this.#color.a};case YKColorPicker.HSL:var{h:e,s:t,l:o}=this.#color.hsl;return{h:Math.round(e),s:Math.round(t),l:Math.round(o),a:this.#color.a};case YKColorPicker.HEX:return this.getHEX()}}setColor(e){var{h:e,s:t,v:o,a:r}=YKColorParser.parse(e);this.#color=new YKColor(e,t,o,r)}#initDOM(){var e=this.#createElement("div",["cp-overlay-wrapper"]),t=this.#createElement("div",["cp-wrapper"]);e.appendChild(t),t.appendChild(this.#buildPaletteColor()),t.appendChild(this.#buildColorSettings()),e.addEventListener("click",e=>e.stopPropagation()),this.#dom.overlayWrapper=e,this.#onKeyUpCloseBind=this.#onKeyUpClose.bind(this),this.#onResizeScrollWindowBind=this.#onResizeScrollWindow.bind(this),this.#onClickCloseBind=this.close.bind(this),this.#options.container?this.#attachToContainer(!1):document.body.appendChild(this.#dom.overlayWrapper),this.#options.onInit(this)}#updateGUI(){this.#updateCursorThumb(),this.#updateInputs(),this.#updateColorPreview(!1),this.#updateHueThumb(),this.#updateOpacityThumb()}#buildPaletteColor(){var e=this.#createElement("div",["cp-palette-wrapper"]),t=this.#createElement("div",["cp-palette"]),o=this.#createElement("div",["cp-cursor"]);return e.appendChild(t),e.appendChild(o),this.#onMouseDownCursorBind=this.#onMouseDownCursor.bind(this),this.#onMouseUpCursorBind=this.#onMouseUpCursor.bind(this),this.#onMouseMoveCursorBind=this.#onMouseMoveCursor.bind(this),e.addEventListener("mousedown",this.#onMouseDownCursorBind),this.#dom.palette=t,this.#dom.cursor=o,e}#buildColorSettings(){var e=this.#createElement("div",["cp-color-settings"]);return e.appendChild(this.#buildCopyColor()),e.appendChild(this.#buildColorPreview()),e.appendChild(this.#buildColorSliders()),e.appendChild(this.#buildColorInputs()),e}#buildColorInputs(){var e=this.#createElement("div",["cp-color-model-wrapper"]),t=this.#createElement("div",["cp-color-model"]),o=this.#createElement("button",["cp-color-model-switch"]);return o.appendChild(this.#createSVGIcon('<path d="m3.5045 11.431 1.5786-1.5786 3.0256 3.0256 3.0256-3.0256 1.5786 1.5786-4.6042 4.4726zm4.6042-11.313 4.6042 4.4726-1.5786 1.5786-3.0256-3.0256-3.0256 3.0256-1.5786-1.5786z"/>')),e.appendChild(t),e.appendChild(o),o.addEventListener("click",this.#onClickInputsSwitch.bind(this)),this.#dom.inputsWrapper=t,e}#buildInput(){var e=this.#dom.inputsWrapper;e.innerHTML="",this.#currentRepresentation==YKColorPicker.HEX?e.appendChild(this.#buildHEXInput()):e.appendChild(this.#buildQuadrupedInput())}#buildHEXInput(){var e=this.#createElement("div",["cp-hex-input"]),t=this.#createElement("input",["cp-color-input"]),o=this.#createElement("label",["cp-color-model-label"]);return t.setAttribute("type","text"),o.textContent="HEX",e.appendChild(t),e.appendChild(o),t.addEventListener("focus",this.#onFocusInput.bind(this)),t.addEventListener("keydown",this.#onKeyDownInputHEX.bind(this)),t.addEventListener("input",this.#onInputHEX.bind(this)),t.addEventListener("change",this.#onChangeInputHEX.bind(this)),this.#dom.inputHEX=t,e}#buildQuadrupedInput(){var e=this.#createElement("div",["cp-input-wrapper"]),t=this.#createElement("input",["cp-color-input"]),o=this.#createElement("input",["cp-color-input"]),r=this.#createElement("input",["cp-color-input"]),i=this.#createElement("input",["cp-color-input"]),s=this.#createElement("label",["cp-color-model-label"]),n=this.#createElement("label",["cp-color-model-label"]),a=this.#createElement("label",["cp-color-model-label"]),h=this.#createElement("label",["cp-color-model-label"]),l=(t.setAttribute("type","text"),o.setAttribute("type","text"),r.setAttribute("type","text"),i.setAttribute("type","text"),this.#currentRepresentation.toUpperCase());return s.textContent=l[0],n.textContent=l[1],a.textContent=l[2],h.textContent="A",e.appendChild(t),e.appendChild(o),e.appendChild(r),e.appendChild(i),e.appendChild(s),e.appendChild(n),e.appendChild(a),e.appendChild(h),t.addEventListener("focus",this.#onFocusInput.bind(this)),t.addEventListener("keydown",this.#onKeyDownInputA.bind(this)),t.addEventListener("input",this.#onInputA.bind(this)),t.addEventListener("change",this.#onChangeInputA.bind(this)),o.addEventListener("focus",this.#onFocusInput.bind(this)),o.addEventListener("keydown",this.#onKeyDownInputB.bind(this)),o.addEventListener("input",this.#onInputB.bind(this)),o.addEventListener("change",this.#onChangeInputB.bind(this)),r.addEventListener("focus",this.#onFocusInput.bind(this)),r.addEventListener("keydown",this.#onKeyDownInputC.bind(this)),r.addEventListener("input",this.#onInputC.bind(this)),r.addEventListener("change",this.#onChangeInputC.bind(this)),i.addEventListener("keydown",this.#onKeyDownAlphaInput.bind(this)),i.addEventListener("input",this.#onKeyUpAlphaInput.bind(this)),i.addEventListener("change",this.#onChangeAlphaInput.bind(this)),this.#dom.inputA=t,this.#dom.inputB=o,this.#dom.inputC=r,this.#dom.inputAlpha=i,e}#updateOpacityThumb(){var{opacitySlider:e,opacityThumb:t}=this.#dom;t.style.translate=this.#color.a*e.offsetWidth+"px"}#updateHueThumb(){var{hueThumb:e,hueSlider:t}=this.#dom;e.style.translate=this.#color.hsv.h/360*t.offsetWidth+"px"}#setQuadrupedValue(e,t,o){this.#dom.inputA.value=e,this.#dom.inputB.value=t,this.#dom.inputC.value=o,this.#dom.inputAlpha.value=parseFloat(this.#color.a.toFixed(2))}#updateHEXInput(){this.#dom.inputHEX.value=this.#color.hex}#updateSettingsView(){this.#updateInputsValue(),this.#updateColorPreview(!0)}#updateInputs(){this.#buildInput(),this.#updateInputsValue()}#updateInputsValue(){switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:e,g:t,b:o}=this.#color.rgb=this.#color.toRGB();this.#setQuadrupedValue(Math.round(e),Math.round(t),Math.round(o));break;case YKColorPicker.HSV:var{h:e,s:t,v:o}=this.#color.hsv;this.#setQuadrupedValue(Math.round(e)+"°",Math.round(t)+"%",Math.round(o)+"%");break;case YKColorPicker.HSL:var{h:e,s:t,l:o}=this.#color.hsl=this.#color.toHSL();this.#setQuadrupedValue(Math.round(e)+"°",Math.round(t)+"%",Math.round(o)+"%");break;case YKColorPicker.HEX:this.#updateHEXColor(),this.#updateHEXInput()}}#updateColorPreview(e){var t=this.#color.a,o=this.#color.toHSL(),{palette:r,opacitySlider:i,colorPreview:s}=this.#dom,n=`hsl(${o.h}deg 100% 50% / 1)`,r=(r.style.backgroundImage=`linear-gradient(180deg, transparent 0%, rgba(0,0,0,1) 100%), linear-gradient(90deg, rgba(255,255,255,1) 0%, ${n} 100%)`,`hsl(${o.h}, ${o.s}%, ${o.l}%)`);i.style.setProperty("background-image",`linear-gradient(90deg, transparent, ${r})`),s.setAttribute("fill",r),s.setAttribute("fill-opacity",t),1==e&&this.#options.onInput(this)}#updateCursorThumb(){var{palette:e,cursor:t}=this.#dom,{s:o,v:r}=this.#color.hsv;t.style.translate=o/100*e.offsetWidth+`px ${e.offsetHeight-r/100*e.offsetHeight}px`}#buildCopyColor(){var e=this.#createElement("button",["cp-clipboard-color"]);return e.addEventListener("click",this.#onClickCopyColor.bind(this)),this.#dom.copyColor=e,this.#attachCopyIcon(),e}#attachCopyIcon(){this.#dom.copyColor.innerHTML="",this.#dom.copyColor.appendChild(this.#createSVGIcon('<path d="m1.9695 11.037v-6.7c0-2 1.6-3.7 3.7-3.7h4.3c0.8 0 1.5 0.5 1.7 1.2h-5.6c-1.6 0.1-2.9 1.4-2.9 3.1v7.9c-0.7-0.3-1.2-1-1.2-1.8zm4.3 4.3c-1 0-1.8-0.8-1.8-1.8v-8.6c0-1 0.8-1.8 1.8-1.8h6.1c1 0 1.8 0.8 1.8 1.8v8.6c0 1-0.8 1.8-1.8 1.8zm6.7-1.8v-8.6c0-0.3-0.3-0.6-0.6-0.6h-6.1c-0.3 0-0.6 0.3-0.6 0.6v8.6c0 0.3 0.3 0.6 0.6 0.6h6.1c0.3 0 0.6-0.3 0.6-0.6z"/>'))}#attachCheckIcon(){this.#dom.copyColor.innerHTML="",this.#dom.copyColor.appendChild(this.#createSVGIcon('<path d="m13.975 5.3001c0.24929-0.24929 0.16619-0.58168-0.0831-0.83097l-0.66477-0.66477c-0.24929-0.24929-0.58168-0.16619-0.83097 0.083097l-5.5675 6.2322-3.407-3.1577c-0.24929-0.24929-0.58168-0.16619-0.83097 0.083097l-0.66477 0.66477c-0.24929 0.24929-0.16619 0.58168 0.083097 0.83097l4.5703 4.1548c0.24929 0.24929 0.58168 0.16619 0.83097-0.0831z"/>'))}#createSVGIcon(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox","0 0 16 16"),t.setAttribute("width","16px"),t.setAttribute("height","16px"),t.innerHTML=e,t}#buildColorSliders(){var e=this.#createElement("div",["cp-sliders"]);return e.appendChild(this.#buildHueSlider()),e.appendChild(this.#buildOpacitySlider()),e}#buildHueSlider(){var e=this.#createElement("div",["cp-hue-slider-wrapper"]),t=this.#createElement("div",["cp-hue-slider"]),o=this.#createElement("a",["cp-hue-slider-thumb"]);return o.setAttribute("tabindex","0"),e.appendChild(t),e.appendChild(o),this.#onMouseDownHueSliderBind=this.#onMouseDownHueSlider.bind(this),this.#onMouseUpHueSliderBind=this.#onMouseUpHueSlider.bind(this),this.#onMouseMoveHueSliderBind=this.#onMouseMoveHueSlider.bind(this),e.addEventListener("mousedown",this.#onMouseDownHueSliderBind),o.addEventListener("keydown",this.#onKeyDownHueSlider.bind(this)),this.#dom.hueSlider=t,this.#dom.hueThumb=o,e}#buildOpacitySlider(){var e=this.#createElement("div",["cp-opacity-slider-wrapper"]),t=this.#createElement("div",["cp-opacity-color"]),o=this.#createElement("a",["cp-opacity-slider-thumb"]);return o.setAttribute("tabindex","0"),e.appendChild(t),e.appendChild(o),this.#onMouseDownOpacitySliderBind=this.#onMouseDownOpacitySlider.bind(this),this.#onMouseUpOpacitySliderBind=this.#onMouseUpOpacitySlider.bind(this),this.#onMouseMoveOpacitySliderBind=this.#onMouseMoveOpacitySlider.bind(this),e.addEventListener("mousedown",this.#onMouseDownOpacitySliderBind),o.addEventListener("keydown",this.#onKeyDownOpacitySlider.bind(this)),this.#dom.opacitySlider=t,this.#dom.opacityThumb=o,e}#buildColorPreview(){var e=this.#createElement("span",["cp-color-preview-wrapper"]),t=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=(t.setAttribute("width",38),t.setAttribute("height",38),document.createElementNS("http://www.w3.org/2000/svg","circle"));return o.setAttribute("cx",19),o.setAttribute("cy",19),o.setAttribute("r",18),o.classList.add("cp-preview-stroke"),t.innerHTML='<defs><pattern id="transparent-grid" x="0" y="0" width="6" height="6" patternUnits="userSpaceOnUse"><path fill="#DBDBDB" d="M0 0h3v3H0z"/><path fill="#fff" d="M3 0h3v3H3z"/><path fill="#DBDBDB" d="M3 3h3v3H3z"/><path fill="#fff" d="M0 3h3v3H0z"/></pattern></defs><circle cx="19" cy="19" r="18" fill="url(#transparent-grid)"/>',t.appendChild(o),e.appendChild(t),this.#dom.colorPreview=o,e}#createElement(e,t){e=document.createElement(e);return null!=t&&e.classList.add(...t),e}#rgbUpdateView(){this.#updateColorPreview(!0),this.#updateHueThumb(),this.#updateCursorThumb()}#updateHEXColorSection(e,t,o,r,i,s,n){var a=t.target,{rgb:h,hex:l}=this.#color;o(h[e],r)&&(h[e]=i(h[e],1),this.#color.hex=l.substring(0,s)+YKColorPicker.hexPad2(Math.round(h[e]))+l.substring(n),{r:o,g:r,b:i}=h,this.#color.hsv=YKColor.RGBtoHSV(o,r,i),this.#rgbUpdateView()),a.value=this.#color.hex,a.setSelectionRange(s,n),t.preventDefault()}#updateHEXAlphaSection(e,t,o,r){var i=e.target,{hex:s,a:n}=this.#color;t(n,o)&&(this.#color.a=parseFloat(r(n,.01).toFixed(2)),i.value=this.#color.hex=s.substring(0,7)+YKColorPicker.hexPad2(Math.round(255*this.#color.a)),this.#updateColorPreview(!0),this.#updateOpacityThumb()),i.value=this.#color.hex,i.setSelectionRange(7,9),e.preventDefault()}#updateOpacityValue(e){this.#color.a=parseFloat(e.toFixed(2)),this.#currentRepresentation==YKColorPicker.HEX?(this.#updateHEXColor(this),this.#updateHEXInput()):this.#dom.inputAlpha.value=this.#color.a,this.#updateColorPreview(!0)}#updatePosition(){null!=this.#options.target&&(YKColorPicker.#isTargetInViewport(this.#options.target)?this.#setPositionAxis(this.#getPositionAxis()):this.close())}#attachToContainer(e){var t=document.getElementById(this.#options.container);if(null==t)throw ReferenceError("ColorPicker:: container to set color picker is undefined");this.#removeWindowEvents(this);var o=this.#dom.overlayWrapper,r=o.parentElement;t.appendChild(o),o.classList.remove("cp-overlay-wrapper--light","cp-overlay-wrapper--dark"),o.classList.add("cp-overlay-wrapper--static"),o.classList.add("cp-overlay-wrapper--open"),o.classList.add("cp-overlay-wrapper--"+this.#options.theme),this.#updateGUI(),this.#isOpen=!0,e&&r!=o.parentElement&&this.#options.onContainerChange(this,r)}#attachToBody(){this.#removeWindowEvents(this);var e=this.#dom.overlayWrapper,t=e.parentElement;document.body.appendChild(e),e.classList.remove("cp-overlay-wrapper--light","cp-overlay-wrapper--dark"),e.classList.remove("cp-overlay-wrapper--static"),e.classList.add("cp-overlay-wrapper--open"),e.classList.add("cp-overlay-wrapper--"+this.#options.theme),this.#updateGUI(),this.#updatePosition(),window.addEventListener("resize",this.#onResizeScrollWindowBind),window.addEventListener("scroll",this.#onResizeScrollWindowBind),document.addEventListener("click",this.#onClickCloseBind),this.#options.escapeKey&&document.addEventListener("keyup",this.#onKeyUpCloseBind),this.#isOpen=!0,t!=e.parentElement&&this.#options.onContainerChange(this,t)}#detachOverlay(){this.#dom.overlayWrapper.classList.remove("cp-overlay-wrapper--open"),this.#removeWindowEvents(this),this.#isOpen=!1}#onClickTarget(e){e.stopPropagation(),this.#isOpen?this.close():this.open()}#onMouseDownCursor(e){this.#dc=!0,document.addEventListener("mousemove",this.#onMouseMoveCursorBind),document.addEventListener("mouseup",this.#onMouseUpCursorBind),this.#onMouseMoveCursorBind(e)}#onMouseUpCursor(e){document.removeEventListener("mousemove",this.#onMouseMoveCursorBind),document.removeEventListener("mouseup",this.#onMouseUpCursorBind),this.#dom.overlayWrapper.contains(e.target)&&(this.#dc=!1)}#onMouseMoveCursor(e){var{x:e,y:t}=this.#getCursorPosition(e.clientX,e.clientY),o=(this.#dom.cursor.style.translate=e+`px ${t}px`,this.#dom.palette.offsetHeight),r=this.#dom.palette.offsetWidth;this.#color.hsv.s=e/r*100,this.#color.hsv.v=(o-t)/o*100,this.#updateSettingsView()}#onClickInputsSwitch(){switch(this.#currentRepresentation){case YKColorPicker.RGB:this.#updateRepresentation(YKColorPicker.HSV);break;case YKColorPicker.HSV:this.#updateRepresentation(YKColorPicker.HSL);break;case YKColorPicker.HSL:this.#updateRepresentation(YKColorPicker.HEX);break;case YKColorPicker.HEX:this.#updateRepresentation(YKColorPicker.RGB)}}#onFocusInput(){switch(this.#currentRepresentation){case YKColorPicker.RGB:this.#color.rgb=this.getRGB();break;case YKColorPicker.HSV:this.#color.hsv=this.getHSV();break;case YKColorPicker.HSL:this.#color.hsl=this.getHSL();break;case YKColorPicker.HEX:this.#updateHEXColor()}}#onKeyDownAlphaInput(e){var{target:t,key:o}=e,r=this.#color.a;switch(o){case"ArrowUp":if(r<1){let e=parseFloat((r+.01).toFixed(2));1<e&&(e=1),t.value=this.#color.a=e,this.#updateColorPreview(!0),this.#updateOpacityThumb()}break;case"ArrowDown":if(0<r){let e=parseFloat((r-.01).toFixed(2));e<0&&(e=0),t.value=this.#color.a=e,this.#updateColorPreview(!0),this.#updateOpacityThumb()}break;case".":/(\.)/.test(t.value)&&e.preventDefault()}}#onKeyUpAlphaInput(e){var e=e.target;(/^(0(\.\d{1,2})?|(0*)1?)$/.test(e.value)||""==e.value)&&(e=parseFloat(e.value)||0,!isNaN(e))&&0<=e&&e<=1&&(this.#color.a=e,this.#updateColorPreview(!0),this.#updateOpacityThumb(this))}#onChangeAlphaInput(e){e.target.value=this.#color.a}#onKeyDownInputHEX(e){var{target:t,key:o}=e;switch(o){case"ArrowUp":/^#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})$/i.test(t.value)||(t.value=this.#color.hex);var r=this.#getCaretPosition(t),i=t.value.length;i<=5?r<2?this.#updateHEXColorSection("r",e,YKColorPicker.#lt,255,YKColorPicker.#add,1,3):r<3?this.#updateHEXColorSection("g",e,YKColorPicker.#lt,255,YKColorPicker.#add,3,5):r<=4&&i<=4||r<4?this.#updateHEXColorSection("b",e,YKColorPicker.#lt,255,YKColorPicker.#add,5,7):r<=5&&this.#updateHEXAlphaSection(e,YKColorPicker.#lt,1,YKColorPicker.#add):r<3?this.#updateHEXColorSection("r",e,YKColorPicker.#lt,255,YKColorPicker.#add,1,3):r<5?this.#updateHEXColorSection("g",e,YKColorPicker.#lt,255,YKColorPicker.#add,3,5):r<=7&&7==i||r<7?this.#updateHEXColorSection("b",e,YKColorPicker.#lt,255,YKColorPicker.#add,5,7):r<=9&&this.#updateHEXAlphaSection(e,YKColorPicker.#lt,1,YKColorPicker.#add);break;case"ArrowDown":/^#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})$/i.test(t.value)||(t.value=this.#color.hex);i=this.#getCaretPosition(t),r=t.value.length;r<=5?i<2?this.#updateHEXColorSection("r",e,YKColorPicker.#gt,0,YKColorPicker.#sub,1,3):i<3?this.#updateHEXColorSection("g",e,YKColorPicker.#gt,0,YKColorPicker.#sub,3,5):i<=4&&r<=4||i<4?this.#updateHEXColorSection("b",e,YKColorPicker.#gt,0,YKColorPicker.#sub,5,7):i<=5&&this.#updateHEXAlphaSection(e,YKColorPicker.#gt,0,YKColorPicker.#sub):i<3?this.#updateHEXColorSection("r",e,YKColorPicker.#gt,0,YKColorPicker.#sub,1,3):i<5?this.#updateHEXColorSection("g",e,YKColorPicker.#gt,0,YKColorPicker.#sub,3,5):i<=7&&7==r||i<7?this.#updateHEXColorSection("b",e,YKColorPicker.#gt,0,YKColorPicker.#sub,5,7):i<=9&&this.#updateHEXAlphaSection(e,YKColorPicker.#gt,0,YKColorPicker.#sub)}}#onInputHEX(e){var t,o,r,e=YKColor.HEXtoRGBA(e.target.value.trim());null!=e&&({r:e,g:t,b:o,a:r}=e,this.#color.a=r,this.#color.rgb={r:e,g:t,b:o},this.#color.hex=YKColor.RGBAtoHEX(e,t,o,r),this.#color.hsv=YKColor.RGBtoHSV(e,t,o),this.#updateColorPreview(!0),this.#updateHueThumb(),this.#updateOpacityThumb(),this.#updateCursorThumb())}#onChangeInputHEX(e){e.target.value=this.#color.hex}#onKeyDownInputA(e){var{target:t,key:e}=e;switch(e){case"ArrowUp":switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:o,g:r,b:i}=this.#color.rgb;(o=Math.round(o))<255&&(this.#color.rgb.r=t.value=++o,this.#color.hsv=YKColor.RGBtoHSV(o,r,i),this.#rgbUpdateView());break;case YKColorPicker.HSV:case YKColorPicker.HSL:o=this.#color.hsv.h;(o=Math.round(o))<360&&(t.value=++o+"°",this.#color.hsv.h=this.#color.hsl.h=o,this.#updateColorPreview(!0),this.#updateHueThumb())}break;case"ArrowDown":switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:s,g:n,b:a}=this.#color.rgb;0<(s=Math.round(s))&&(this.#color.rgb.r=t.value=--s,this.#color.hsv=YKColor.RGBtoHSV(s,n,a),this.#rgbUpdateView());break;case YKColorPicker.HSV:case YKColorPicker.HSL:s=this.#color.hsv.h;0<(s=Math.round(s))&&(t.value=--s+"°",this.#color.hsv.h=this.#color.hsl.h=s,this.#updateColorPreview(!0),this.#updateHueThumb())}}}#onInputA(e){var t=parseInt(e.target.value||0);if(/^(\d{1,3})(°?)$/.test(t))switch(this.#currentRepresentation){case YKColorPicker.RGB:var{g:o,b:r}=this.#color.rgb;!isNaN(t)&&0<=t&&t<=255&&(this.#color.rgb.r=t,this.#color.hsv=YKColor.RGBtoHSV(t,o,r),this.#updateColorPreview(!0),this.#updateHueThumb(),this.#updateCursorThumb());break;case YKColorPicker.HSV:case YKColorPicker.HSL:!isNaN(t)&&0<=t&&t<=360&&(this.#color.hsv.h=this.#color.hsl.h=t,this.#updateColorPreview(!0),this.#updateHueThumb())}}#onChangeInputA(e){let t=e.target.value;switch(this.#currentRepresentation){case YKColorPicker.RGB:t=Math.round(this.#color.rgb.r);break;case YKColorPicker.HSV:case YKColorPicker.HSL:t=Math.round(this.#color.hsv.h)+"°"}e.target.value=t}#onKeyDownInputB(e){var{target:t,key:e}=e;switch(e){case"ArrowUp":switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:o,g:r,b:i}=this.#color.rgb;(r=Math.round(r))<255&&(this.#color.rgb.g=t.value=++r,this.#color.hsv=YKColor.RGBtoHSV(o,r,i),this.#rgbUpdateView());break;case YKColorPicker.HSV:o=this.#color.hsv.s;(o=Math.round(o))<100&&(t.value=++o+"%",this.#color.hsv.s=o,this.#updateColorPreview(!0),this.#updateCursorThumb());break;case YKColorPicker.HSL:var{h:r,s:i,l:o}=this.#color.hsl,i=Math.round(i);i<100&&(t.value=++i+"%",this.#color.hsl.s=i,this.#color.hsv.s=YKColor.HSLtoHSV(r,i,o).s,this.#updateColorPreview(!0),this.#updateCursorThumb())}break;case"ArrowDown":switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:s,g:n,b:a}=this.#color.rgb;0<(n=Math.round(n))&&(this.#color.rgb.g=t.value=--n,this.#color.hsv=YKColor.RGBtoHSV(s,n,a),this.#rgbUpdateView());break;case YKColorPicker.HSV:s=this.#color.hsv.s;0<(s=Math.round(s))&&(t.value=--s+"%",this.#color.hsv.s=s,this.#updateColorPreview(!0),this.#updateCursorThumb());break;case YKColorPicker.HSL:var{h:n,s:a,l:s}=this.#color.hsl,a=Math.round(a);0<a&&(t.value=--a+"%",this.#color.hsl.s=a,this.#color.hsv.s=YKColor.HSLtoHSV(n,a,s).s,this.#updateColorPreview(!0),this.#updateCursorThumb())}}}#onInputB(e){var t=parseInt(e.target.value||0);if(/^(\d{1,3})(%?)$/.test(t))switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:o,b:r}=this.#color.rgb;!isNaN(t)&&0<=t&&t<=255&&(this.#color.rgb.g=t,this.#color.hsv=YKColor.RGBtoHSV(o,t,r),this.#updateColorPreview(!0),this.#updateHueThumb(),this.#updateCursorThumb());break;case YKColorPicker.HSV:!isNaN(t)&&0<=t&&t<=100&&(this.#color.hsv.s=t,this.#updateColorPreview(!0),this.#updateCursorThumb());break;case YKColorPicker.HSL:var{h:o,l:r}=this.#color.hsl;!isNaN(t)&&0<=t&&t<=100&&(this.#color.hsl.s=t,this.#color.hsv=YKColor.HSLtoHSV(o,t,r),this.#updateColorPreview(!0),this.#updateCursorThumb())}}#onChangeInputB(e){let t=e.target.value;switch(this.#currentRepresentation){case YKColorPicker.RGB:t=Math.round(this.#color.rgb.g);break;case YKColorPicker.HSV:t=Math.round(this.#color.hsv.s)+"%";break;case YKColorPicker.HSL:t=Math.round(this.#color.hsl.s)+"%"}e.target.value=t}#onKeyDownInputC(e){var{target:t,key:e}=e;switch(e){case"ArrowUp":switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:o,g:r,b:i}=this.#color.rgb;(i=Math.round(i))<255&&(this.#color.rgb.b=t.value=++i,this.#color.hsv=YKColor.RGBtoHSV(o,r,i),this.#rgbUpdateView());break;case YKColorPicker.HSV:o=this.#color.hsv.v;(o=Math.round(o))<100&&(t.value=++o+"%",this.#color.hsv.v=o,this.#updateColorPreview(!0),this.#updateCursorThumb());break;case YKColorPicker.HSL:var{h:r,s:i,l:o}=this.#color.hsl,o=Math.round(o);o<100&&(t.value=++o+"%",this.#color.hsl.l=o,this.#color.hsv.v=YKColor.HSLtoHSV(r,i,o).v,this.#updateColorPreview(!0),this.#updateCursorThumb())}break;case"ArrowDown":switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:s,g:n,b:a}=this.#color.rgb;0<(a=Math.round(a))&&(this.#color.rgb.b=t.value=--a,this.#color.hsv=YKColor.RGBtoHSV(s,n,a),this.#rgbUpdateView());break;case YKColorPicker.HSV:s=this.#color.hsv.v;0<(s=Math.round(s))&&(t.value=--s+"%",this.#color.hsv.v=s,this.#updateColorPreview(!0),this.#updateCursorThumb());break;case YKColorPicker.HSL:var{h:n,s:a,l:s}=this.#color.hsl,h=Math.round(s);0<s&&(t.value=--h+"%",this.#color.hsl.l=h,this.#color.hsv.v=YKColor.HSLtoHSV(n,a,h).v,this.#updateColorPreview(!0),this.#updateCursorThumb())}}}#onInputC(e){var t=parseInt(e.target.value||0);if(/^(\d{1,3})(%?)$/.test(t))switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:o,g:r}=this.#color.rgb;!isNaN(t)&&0<=t&&t<=255&&(this.#color.rgb.b=t,this.#color.hsv=YKColor.RGBtoHSV(o,r,t),this.#updateColorPreview(!0),this.#updateHueThumb(),this.#updateCursorThumb());break;case YKColorPicker.HSV:!isNaN(t)&&0<=t&&t<=100&&(this.#color.hsv.v=t,this.#updateColorPreview(!0),this.#updateCursorThumb());break;case YKColorPicker.HSL:var{h:o,s:r}=this.#color.hsl;!isNaN(t)&&0<=t&&t<=100&&(this.#color.hsl.l=t,this.#color.hsv=YKColor.HSLtoHSV(o,r,t),this.#updateColorPreview(!0),this.#updateCursorThumb())}}#onChangeInputC(e){let t=e.target.value;switch(this.#currentRepresentation){case YKColorPicker.RGB:t=Math.round(this.#color.rgb.b);break;case YKColorPicker.HSV:t=Math.round(this.#color.hsv.v)+"%";break;case YKColorPicker.HSL:t=Math.round(this.#color.hsl.l)+"%"}e.target.value=t}#onClickCopyColor(){this.#copyTimeout&&clearTimeout(this.#copyTimeout);var t=document.createElement("input");t.style.position="absolute",t.style.left="-99999px",t.style.top="-99999px",t.value=this.#getColorText(),document.body.appendChild(t),t.select();try{document.execCommand("copy"),this.#attachCheckIcon(),this.#dom.copyColor.focus(),this.#options.onCopy(this),this.#copyTimeout=setTimeout(()=>{this.#attachCopyIcon(),this.#copyTimeout=null},600)}catch(e){throw document.body.removeChild(t),new Error("YKColorPicker:: Failed to copy color.",{cause:e})}}#onMouseDownHueSlider(e){e.preventDefault(),this.#dc=!0,document.addEventListener("mousemove",this.#onMouseMoveHueSliderBind),document.addEventListener("mouseup",this.#onMouseUpHueSliderBind),this.#dom.hueThumb.focus(),this.#onMouseMoveHueSliderBind(e)}#onMouseUpHueSlider(e){document.removeEventListener("mousemove",this.#onMouseMoveHueSliderBind),document.removeEventListener("mouseup",this.#onMouseUpHueSliderBind),this.#dom.overlayWrapper.contains(e.target)&&(this.#dc=!1)}#onMouseMoveHueSlider(e){var{hueSlider:t,hueThumb:o}=this.#dom,t=t.getBoundingClientRect(),r=t.width;let i=e.clientX-t.left;(i=i<0?0:i)>r&&(i=r),this.#color.hsv.h=i/t.width*360,o.style.translate=i+"px",this.#updateSettingsView()}#onMouseDownOpacitySlider(e){e.preventDefault(),this.#dc=!0,document.addEventListener("mousemove",this.#onMouseMoveOpacitySliderBind),document.addEventListener("mouseup",this.#onMouseUpOpacitySliderBind),this.#dom.opacityThumb.focus(),this.#onMouseMoveOpacitySliderBind(e)}#onMouseUpOpacitySlider(e){document.removeEventListener("mousemove",this.#onMouseMoveOpacitySliderBind),document.removeEventListener("mouseup",this.#onMouseUpOpacitySliderBind),this.#dom.overlayWrapper.contains(e.target)&&(this.#dc=!1)}#onMouseMoveOpacitySlider(e){var{opacitySlider:t,opacityThumb:o}=this.#dom,t=t.getBoundingClientRect(),r=t.width;let i=e.clientX-t.left;o.focus(),(i=i<0?0:i)>r&&(i=r),o.style.translate=i+"px",this.#updateOpacityValue(i/r)}#onKeyDownHueSlider(e){var t=e.key;switch(t){case"ArrowUp":case"ArrowRight":var{hueThumb:o,hueSlider:r}=this.#dom,i=parseInt(o.style.translate);!isNaN(i)&&i<r.offsetWidth&&(o.style.translate=++i+"px",this.#color.hsv.h=i/r.offsetWidth*360,this.#updateSettingsView()),e.preventDefault();break;case"ArrowDown":case"ArrowLeft":var{hueThumb:o,hueSlider:i}=this.#dom,r=parseInt(o.style.translate);!isNaN(r)&&0<r&&(o.style.translate=--r+"px",this.#color.hsv.h=r/i.offsetWidth*360,this.#updateSettingsView()),e.preventDefault()}}#onKeyDownOpacitySlider(e){var t=e.key;switch(t){case"ArrowUp":case"ArrowRight":var{opacityThumb:o,opacitySlider:r}=this.#dom,i=parseInt(o.style.translate);!isNaN(i)&&i<r.offsetWidth&&(o.style.translate=++i+"px",this.#updateOpacityValue(i/r.offsetWidth)),e.preventDefault();break;case"ArrowDown":case"ArrowLeft":var{opacityThumb:o,opacitySlider:i}=this.#dom,r=parseInt(o.style.translate);!isNaN(r)&&0<r&&(o.style.translate=--r+"px",this.#updateOpacityValue(r/i.offsetWidth)),e.preventDefault()}}#onKeyUpClose(e){"Escape"==e.key&&(this._prevColor!=this.getHEX()&&(this.setColor(this._prevColor),this.#updateGUI(),this.#options.onInput(this)),this.close())}#onResizeScrollWindow(e){var e=e.type,{target:t,closeOnScroll:o,closeOnResize:r}=this.#options;"scroll"==e&&o||"resize"==e&&r?this.close():null!=t&&(YKColorPicker.#isTargetInViewport(this.#options.target)?this.#setPositionAxis(this.#getPositionAxis()):this.close())}#removeWindowEvents(){window.removeEventListener("resize",this.#onResizeScrollWindowBind),window.removeEventListener("scroll",this.#onResizeScrollWindowBind),document.removeEventListener("keyup",this.#onKeyUpCloseBind),document.removeEventListener("click",this.#onClickCloseBind)}#getCursorPosition(e,t){var o=this.#dom.palette.getBoundingClientRect();let r=e-o.left,i=t-o.top;return r<0?r=0:r>o.width&&(r=o.width),i<0?i=0:i>o.height&&(i=o.height),{x:r,y:i}}#updateHEXColor(){var{r:e,g:t,b:o}=this.#color.rgb=this.#color.toRGB();this.#color.hex=YKColor.RGBAtoHEX(e,t,o,this.#color.a)}#getColorText(){switch(this.#currentRepresentation){case YKColorPicker.RGB:var{r:e,g:t,b:o}=this.#color.rgb;return`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(o)}, ${this.#color.a})`;case YKColorPicker.HSV:var{h:e,s:t,v:o}=this.#color.hsv;return`hsva(${Math.round(e)}, ${Math.round(t)}%, ${Math.round(o)}%, ${this.#color.a})`;case YKColorPicker.HSL:var{h:e,s:t,l:o}=this.#color.hsl;return`hsla(${Math.round(e)}, ${Math.round(t)}%, ${Math.round(o)}%, ${this.#color.a})`;case YKColorPicker.HEX:return this.getHEX()}}#getCaretPosition(e){let t=e.selectionStart;e=e.value.length;return t=t>e?e:t}#getPositionAxis(){var{target:e,position:t,positionFlipOrder:o}=this.#options;const r=e.getBoundingClientRect();var i=this.#dom.overlayWrapper.getBoundingClientRect();const s=document.documentElement.scrollTop,n=document.documentElement.scrollLeft;let a=t;var h={t:YKColorPicker.#enoughSpace(()=>s+r.top,()=>r.top,i.height+6),b:YKColorPicker.#enoughSpace(()=>YKColorPicker.#getPageHeight()-(s+r.top+r.height),()=>window.innerHeight-(r.top+r.height),i.height+6),l:YKColorPicker.#enoughSpace(()=>n+r.left,()=>r.left,i.width+6),r:YKColorPicker.#enoughSpace(()=>YKColorPicker.#getPageWidth()-(n+r.left+r.width),()=>window.innerWidth-(r.left+r.width),i.width+6)};let l="";for(let e=0;e<o.length;e++)l+=o[e]+h[o[e]];let d="",c="";for(let e=1;e<l.length;e+=2){var u=l[e];2==u&&(d+=l[e-1]),1==u&&(c+=l[e-1])}""!=d?0==d.includes(a)&&(a=d[0]):""!=c?0==c.includes(a)&&(a=c[0]):a=YKColorPicker.BOTTOM;let p=0,v=0;switch(a){case YKColorPicker.TOP:v=r.top-i.height-6,p=r.left+r.width/2-i.width/2;break;case YKColorPicker.BOTTOM:v=r.top+r.height+6,p=r.left+r.width/2-i.width/2;break;case YKColorPicker.LEFT:v=r.top+r.height/2-i.height/2,p=r.left-i.width-6;break;case YKColorPicker.RIGHT:v=r.top+r.height/2-i.height/2,p=r.left+r.width+6}e=window.innerWidth-document.documentElement.clientWidth,t=window.innerHeight-document.documentElement.clientHeight;return window.innerWidth-e<p+i.width&&(p-=p+i.width-window.innerWidth+e),window.innerHeight-t<v+i.height&&(v-=v+i.height-window.innerHeight+t),p=Math.max(p,0),v=Math.max(v,0),{x:p,y:v}}#setPositionAxis(e){var{x:e,y:t}=e;this.#dom.overlayWrapper.style.top=t+"px",this.#dom.overlayWrapper.style.left=e+"px"}#updateRepresentation(e){this.#currentRepresentation=e,this.#updateInputs(),this.#options.onRepresentationChange(this)}static hexPad2(e){return e.toString(16).padStart(2,"0")}static#isTargetInViewport(e){if(e)return 0<=(e=e.getBoundingClientRect()).top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}static#getPageHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}static#getPageWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)}static#enoughSpace(e,t,o){return e()>=o?t()>=o?2:1:0}static#buildOptions(t,o){null==o&&(o={});var r={},i=Object.keys(t);for(let e=0;e<i.length;e++){var s=i[e];1==o.hasOwnProperty(s)?r[s]=o[s]:r[s]=t[s]}return r}static#lt(e,t){return e<t}static#gt(e,t){return t<e}static#add(e,t){return e+t}static#sub(e,t){return e-t}}window.YKColorPicker=YKColorPicker;